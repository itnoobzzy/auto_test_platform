{"version":3,"sources":["webpack:///src/components/sglt/WholeTest/panel/steqTwo.vue","webpack:///./src/components/sglt/WholeTest/panel/steqTwo.vue?53ca","webpack:///./src/components/sglt/WholeTest/panel/steqTwo.vue"],"names":["steqTwo","components","CardBox","Promise","resolve","then","__webpack_require__","bind","data","loading_query_rate","timer","search_input","left_search","right_search","right_search_flag","unbind_template_table_data","unbind_template_total_count","left_page_size","left_current_page","left_total_count","bind_template_table_data","search_bind_template_table_data","right_page_size","right_current_page","right_total_count","left_select_template","right_select_case","bind_template_info","next_step_flag","methods","handle_search","_this","this","module_name","page","pageSize","user_id","Object","cookie","api","config_manage_api","check_case_template","response","status","total_count","info","$message","error","right_handle_size_change","size","right_handle_current_change","val","left_handle_size_change","left_handle_current_change","reset_left_search","_this2","forEach","item","indexOf","push","right_reset_search","left_selected","handle_bind","bind_id_list","case_template_id","tmp_list","filter","concat","sort","a","b","search_bind_id_list","tmp_list2","template_id","template_id_list","get_case_id_list","id_list","_this3","_loop","i","len","undefined","find","case_id_list","get_template_bind_case","bind_info","case_id","console","log","length","get_case_rate","offer_id","_this4","setInterval","clearInterval","query_case_rate","ret_info","rate_info","$emit","right_selected","handle_unbind","remove_right_selected","_this5","Array","prototype","diff","array","_index","findIndex","splice","mounted","beforeDestroy","panel_steqTwo","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","type","justify","title","slot","staticStyle","width","placeholder","suffix-icon","model","value","callback","$$v","$set","expression","_v","background","plain","on","click","$event","directives","name","rawName","modifiers","fullscreen","lock","border","element-loading-text","element-loading-spinner","element-loading-background","selection-change","prop","label","show-overflow-tooltip","current-page","page-sizes","page-size","layout","total","size-change","current-change","update:currentPage","update:current-page","span","icon","slice","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"mIA+HAA,GACAC,YACAC,QAAA,sBAAAC,QAAA,SAAAC,SAAAC,KAAAC,EAAAC,KAAA,gBAEAC,KAJA,WAKA,OACAC,oBAAA,EAEAC,MAAA,GAEAC,cACAC,YAAA,GACAC,aAAA,IAEAC,mBAAA,EAEAC,8BACAC,4BAAA,EACAC,eAAA,GACAC,kBAAA,EACAC,iBAAA,EAEAC,4BACAC,mCACAC,gBAAA,GACAC,mBAAA,EACAC,kBAAA,EAEAC,wBAEAC,qBAEAC,sBAEAC,gBAAA,IAGAC,SAEAC,cAFA,WAEA,IAAAC,EAAAC,KACAxB,GACAyB,YAAAD,KAAArB,aAAAC,YACAsB,KAAAF,KAAAd,kBACAiB,SAAAH,KAAAf,eACAmB,QAAAC,OAAAC,EAAA,EAAAD,CAAA,YAEME,EAAA,EAANC,kBAAAC,oBAAAjC,GAAAH,KAAA,SAAAqC,GACA,IAAAA,EAAAC,QACAZ,EAAAf,4BAAA0B,EAAAE,YACAb,EAAAhB,2BAAA2B,EAAAG,MAEAd,EAAAe,SAAAC,MAAA,mBAKAC,yBAnBA,SAmBAC,GACAjB,KAAAV,gBAAA2B,GAEAC,4BAtBA,SAsBAC,GACAnB,KAAAT,mBAAA4B,GAEAC,wBAzBA,SAyBAH,GACAjB,KAAAf,eAAAgC,EACAjB,KAAAF,iBAEAuB,2BA7BA,SA6BAF,GACAnB,KAAAd,kBAAAiC,EACAnB,KAAAF,iBAGAwB,kBAlCA,WAmCAtB,KAAArB,aAAAC,YAAA,GACAoB,KAAAqB,2BAAA,IAGAxC,aAvCA,WAuCA,IAAA0C,EAAAvB,KACAA,KAAAX,mCACAW,KAAAZ,yBAAAoC,QAAA,SAAAC,GACAA,EAAAxB,YAAAyB,QAAAH,EAAA5C,aAAAE,eAAA,GACA0C,EAAAlC,gCAAAsC,KAAAF,KAGAzB,KAAAT,mBAAA,EACAS,KAAAlB,mBAAA,GAGA8C,mBAlDA,WAmDA5B,KAAAlB,mBAAA,EACAkB,KAAAX,mCACAW,KAAArB,aAAAE,aAAA,GACAmB,KAAAT,mBAAA,GAGAsC,cAzDA,SAyDAV,GACAnB,KAAAP,qBAAA0B,GAGAW,YA7DA,WA8DA,IAAAC,KACA/B,KAAAZ,yBAAAoC,QAAA,SAAAC,GACAM,EAAAJ,KAAAF,EAAAO,oBAEA,IAAAC,EAAAjC,KAAAP,qBAAAyC,OAAA,SAAAT,GACA,OAAAM,EAAAL,QAAAD,EAAAO,kBAAA,IAEAhC,KAAAZ,yBAAAY,KAAAZ,yBAAA+C,OAAAF,GAAAG,KAAA,SAAAC,EAAAC,GACA,OAAAA,EAAAN,iBAAAK,EAAAL,mBAGA,IAAAO,KACAvC,KAAAX,gCAAAmC,QAAA,SAAAC,GACAc,EAAAZ,KAAAF,EAAAO,oBAEA,IAAAQ,EAAAxC,KAAAP,qBAAAyC,OAAA,SAAAT,GACA,OAAAc,EAAAb,QAAAD,EAAAO,kBAAA,IAEAhC,KAAAlB,oBACAkB,KAAAX,gCAAAW,KAAAX,gCAAA8C,OAAAK,GAAAJ,KAAA,SAAAC,EAAAC,GACA,OAAAA,EAAAG,YAAAJ,EAAAI,eAIAzC,KAAAkB,4BAAA,GAEA,IAAAwB,KACA1C,KAAAZ,yBAAAoC,QAAA,SAAAC,GACAiB,EAAAf,KAAAF,EAAAO,oBAEAhC,KAAA2C,iBAAAD,IAIAC,iBAhGA,SAgGAC,GACA,IADA,IAAAC,EAAA7C,KAAA8C,EAAA,SACAC,EAAAC,GAIA,QAAAC,IAHAJ,EAAAlD,mBAAAuD,KAAA,SAAAzB,GACA,OAAAA,EAAAgB,cAAAG,EAAAG,KAEA,CACA,IAAAI,KACA3E,GACAwD,iBAAAY,EAAAG,GACA7C,KAAA,EACAC,SAAA,EACAC,QAAAC,OAAAC,EAAA,EAAAD,CAAA,YAEUE,EAAA,EAAVC,kBAAA4C,uBAAA5E,GAAAH,KAAA,SAAAqC,GACA,IAAAA,EAAAC,SACAD,EAAAG,KAAAwC,UAAA7B,QAAA,SAAAC,GACA0B,EAAAxB,KAAAF,EAAA6B,WAEAT,EAAAlD,mBAAAgC,MACAc,YAAAG,EAAAG,GACAI,kBAGAI,QAAAC,IAAAX,EAAAlD,mBAAA8D,OAAA,EAAAV,GACAF,EAAAlD,mBAAA8D,OAAA,IAAAV,IACAF,EAAAjD,gBAAA,OAxBAmD,EAAA,EAAAC,EAAAJ,EAAAa,OAAAV,EAAAC,EAAAD,IAAAD,EAAAC,IAgCAW,cAjIA,SAiIAC,GAAA,IAAAC,EAAA5D,KAQA,GAPAA,KAAAvB,oBAAA,EACAuB,KAAAtB,MAAAmF,YAAA,WACAN,QAAAC,IAAAI,EAAAhE,gBACAgE,EAAAhE,gBACAkE,cAAAF,EAAAlF,QAEA,MACA,IAAAsB,KAAAJ,eAAA,CACA,IAAApB,GACAmF,WACAhE,mBAAAK,KAAAL,mBACAS,QAAAC,OAAAC,EAAA,EAAAD,CAAA,YAEQE,EAAA,EAARC,kBAAAuD,gBAAAvF,GAAAH,KAAA,SAAAqC,GACA,OAAAA,EAAAC,OAAA,CACA,IAAAqD,KACAA,EAAAC,UAAAvD,EAAAG,KACA+C,EAAAM,MAAA,uBAAAF,QAEAJ,EAAA9C,SAAAC,MAAA,gBAEA6C,EAAAnF,oBAAA,MAMA0F,eA7JA,SA6JAhD,GACAnB,KAAAN,kBAAAyB,GAGAiD,cAjKA,WAkKApE,KAAAqE,sBAAArE,KAAAN,mBACAM,KAAAkB,4BAAA,IAGAmD,sBAtKA,SAsKAF,GAAA,IAAAG,EAAAtE,KACAuE,MAAAC,UAAAC,KAAA,SAAAC,GACA,OAAA1E,KAAAkC,OAAA,SAAAa,GACA,OAAA2B,EAAAhD,QAAAqB,GAAA,KAGA/C,KAAAZ,yBAAAY,KAAAZ,yBAAAqF,KAAAN,GAEAnE,KAAAlB,oBACAkB,KAAAX,gCAAAW,KAAAZ,yBAAAqF,KAAAN,IAGAA,EAAA3C,QAAA,SAAAC,GACA,IAAAkD,EAAAL,EAAA3E,mBAAAiF,UAAA,SAAA7B,GACA,OAAAA,EAAAN,cAAAhB,EAAAO,mBAEAsC,EAAA3E,mBAAAkF,OAAAF,EAAA,OAKAG,QAhOA,WAiOA9E,KAAAqB,2BAAA,IAEA0D,cAnOA,WAoOAjB,cAAA9D,KAAAtB,SChWesG,GADEC,OAFjB,WAA0B,IAAAC,EAAAlF,KAAamF,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,QAAAA,EAAA,OAA4BE,YAAA,oBAA8BF,EAAA,UAAeG,OAAOC,KAAA,OAAAC,QAAA,YAAkCL,EAAA,UAAAA,EAAA,WAA6BG,OAAOG,MAAA,YAAkBN,EAAA,YAAiBO,KAAA,SAAYP,EAAA,OAAYE,YAAA,eAAyBF,EAAA,YAAiBQ,aAAaC,MAAA,SAAgBN,OAAQO,YAAA,UAAAC,cAAA,iBAAA/E,KAAA,SAAsEgF,OAAQC,MAAAhB,EAAAvG,aAAA,YAAAwH,SAAA,SAAAC,GAA8DlB,EAAAmB,KAAAnB,EAAAvG,aAAA,cAAAyH,IAA+CE,WAAA,8BAAwCpB,EAAAqB,GAAA,KAAAlB,EAAA,OAAAA,EAAA,aAAwCQ,aAAaW,WAAA,QAAoBhB,OAAQC,KAAA,UAAAgB,MAAA,GAAAxF,KAAA,SAA2CyF,IAAKC,MAAAzB,EAAA5D,qBAA+B4D,EAAAqB,GAAA,QAAArB,EAAAqB,GAAA,KAAAlB,EAAA,aAA6CG,OAAOC,KAAA,UAAAxE,KAAA,SAAgCyF,IAAKC,MAAA,SAAAC,GAAyB,OAAA1B,EAAA7D,2BAAA,OAA2C6D,EAAAqB,GAAA,gBAAArB,EAAAqB,GAAA,KAAAlB,EAAA,OAA+CE,YAAA,iBAA2BF,EAAA,YAAiBwB,aAAaC,KAAA,UAAAC,QAAA,YAAAb,MAAAhB,EAAA,mBAAAoB,WAAA,uBAAoGQ,KAAA,UAAAC,QAAA,4BAAAb,MAAAhB,EAAA,mBAAAoB,WAAA,qBAAAU,WAA6HC,YAAA,EAAAC,MAAA,KAA+BrB,aAAeC,MAAA,QAAeN,OAAQhH,KAAA0G,EAAAnG,2BAAAoI,OAAA,GAAAlG,KAAA,QAAAmG,uBAAA,aAAAC,0BAAA,kBAAAC,6BAAA,sBAAmMZ,IAAKa,mBAAArC,EAAArD,iBAAsCwD,EAAA,mBAAwBG,OAAOC,KAAA,YAAAK,MAAA,QAAiCZ,EAAAqB,GAAA,KAAAlB,EAAA,mBAAoCG,OAAOgC,KAAA,mBAAAC,MAAA,SAAA3B,MAAA,SAA0DZ,EAAAqB,GAAA,KAAAlB,EAAA,mBAAoCG,OAAOgC,KAAA,cAAAC,MAAA,SAAAC,yBAAA,MAAoE,OAAAxC,EAAAqB,GAAA,KAAAlB,EAAA,OAAgCE,YAAA,sBAAgCF,EAAA,iBAAsBG,OAAOmC,eAAAzC,EAAAhG,kBAAA0I,cAAA,SAAAC,YAAA3C,EAAAjG,eAAA6I,OAAA,2BAAAC,MAAA7C,EAAAlG,6BAAuK0H,IAAKsB,cAAA9C,EAAA9D,wBAAA6G,iBAAA/C,EAAA7D,2BAAA6G,qBAAA,SAAAtB,GAAgI1B,EAAAhG,kBAAA0H,GAA6BuB,sBAAA,SAAAvB,GAAwC1B,EAAAhG,kBAAA0H,OAA+B,aAAA1B,EAAAqB,GAAA,KAAAlB,EAAA,UAAyCG,OAAO4C,KAAA,KAAU/C,EAAA,OAAYE,YAAA,kBAA4BF,EAAA,aAAkBG,OAAOC,KAAA,UAAA4C,KAAA,uBAA8C3B,IAAKC,MAAAzB,EAAApD,eAAyBoD,EAAAqB,GAAA,KAAAlB,EAAA,aAA8BG,OAAO6C,KAAA,sBAA4B3B,IAAKC,MAAAzB,EAAAd,kBAA2B,KAAAc,EAAAqB,GAAA,KAAAlB,EAAA,UAAAA,EAAA,WAA+CG,OAAOG,MAAA,UAAgBN,EAAA,YAAiBO,KAAA,SAAYP,EAAA,OAAYE,YAAA,eAAyBF,EAAA,YAAiBQ,aAAaC,MAAA,SAAgBN,OAAQO,YAAA,UAAAC,cAAA,iBAAA/E,KAAA,SAAsEgF,OAAQC,MAAAhB,EAAAvG,aAAA,aAAAwH,SAAA,SAAAC,GAA+DlB,EAAAmB,KAAAnB,EAAAvG,aAAA,eAAAyH,IAAgDE,WAAA,+BAAyCpB,EAAAqB,GAAA,KAAAlB,EAAA,OAAAA,EAAA,aAAwCQ,aAAaW,WAAA,QAAoBhB,OAAQC,KAAA,UAAAgB,MAAA,GAAAxF,KAAA,SAA2CyF,IAAKC,MAAAzB,EAAAtD,sBAAgCsD,EAAAqB,GAAA,QAAArB,EAAAqB,GAAA,KAAAlB,EAAA,aAA6CG,OAAOC,KAAA,UAAAxE,KAAA,SAAgCyF,IAAKC,MAAAzB,EAAArG,gBAA0BqG,EAAAqB,GAAA,gBAAArB,EAAAqB,GAAA,KAAAlB,EAAA,OAA+CE,YAAA,iBAA2BL,EAAA,kBAAAG,EAAA,OAAAA,EAAA,YAAmDQ,aAAaC,MAAA,QAAeN,OAAQhH,KAAA0G,EAAA7F,gCAAAiJ,OAAApD,EAAA3F,mBAAA,GAAA2F,EAAA5F,gBAAA4F,EAAA3F,mBAAA2F,EAAA5F,iBAAA6H,OAAA,GAAAlG,KAAA,SAAwKyF,IAAKa,mBAAArC,EAAAf,kBAAuCkB,EAAA,mBAAwBG,OAAOC,KAAA,YAAAK,MAAA,QAAiCZ,EAAAqB,GAAA,KAAAlB,EAAA,mBAAoCG,OAAOgC,KAAA,mBAAAC,MAAA,SAAA3B,MAAA,SAA0DZ,EAAAqB,GAAA,KAAAlB,EAAA,mBAAoCG,OAAOgC,KAAA,cAAAC,MAAA,SAAAC,yBAAA,MAAoE,GAAAxC,EAAAqB,GAAA,KAAAlB,EAAA,OAA4BE,YAAA,sBAAgCF,EAAA,iBAAsBG,OAAOmC,eAAAzC,EAAA3F,mBAAAqI,cAAA,SAAAC,YAAA3C,EAAA5F,gBAAAwI,OAAA,2BAAAC,MAAA7C,EAAA7F,gCAAAoE,QAAoLiD,IAAKsB,cAAA9C,EAAAlE,yBAAAiH,iBAAA/C,EAAAhE,4BAAAgH,qBAAA,SAAAtB,GAAkI1B,EAAA3F,mBAAAqH,GAA8BuB,sBAAA,SAAAvB,GAAwC1B,EAAA3F,mBAAAqH,OAAgC,OAAAvB,EAAA,OAAAA,EAAA,YAAmCQ,aAAaC,MAAA,QAAeN,OAAQhH,KAAA0G,EAAA9F,yBAAAkJ,OAAApD,EAAA3F,mBAAA,GAAA2F,EAAA5F,gBAAA4F,EAAA3F,mBAAA2F,EAAA5F,iBAAA6H,OAAA,GAAAlG,KAAA,SAAiKyF,IAAKa,mBAAArC,EAAAf,kBAAuCkB,EAAA,mBAAwBG,OAAOC,KAAA,YAAAK,MAAA,QAAiCZ,EAAAqB,GAAA,KAAAlB,EAAA,mBAAoCG,OAAOgC,KAAA,mBAAAC,MAAA,SAAA3B,MAAA,SAA0DZ,EAAAqB,GAAA,KAAAlB,EAAA,mBAAoCG,OAAOgC,KAAA,cAAAC,MAAA,SAAAC,yBAAA,MAAoE,GAAAxC,EAAAqB,GAAA,KAAAlB,EAAA,OAA4BE,YAAA,sBAAgCF,EAAA,iBAAsBG,OAAOmC,eAAAzC,EAAA3F,mBAAAqI,cAAA,SAAAC,YAAA3C,EAAA5F,gBAAAwI,OAAA,2BAAAC,MAAA7C,EAAA9F,yBAAAqE,QAA6KiD,IAAKsB,cAAA9C,EAAAlE,yBAAAiH,iBAAA/C,EAAAhE,4BAAAgH,qBAAA,SAAAtB,GAAkI1B,EAAA3F,mBAAAqH,GAA8BuB,sBAAA,SAAAvB,GAAwC1B,EAAA3F,mBAAAqH,OAAgC,iCAEn4K2B,oBCEjB,IAcAC,EAdyBlK,EAAQ,OAcjCmK,CACEzK,EACAgH,GATF,EAXA,SAAA0D,GACEpK,EAAQ,QACRA,EAAQ,SAaV,kBAEA,MAUeqK,EAAA,QAAAH,EAAiB","file":"static/js/9.991b93538e534a1c2448.js","sourcesContent":["<template>\n  <div>\n    <template>\n      <div class=\"steq_panel_form\">\n        <el-row type=\"flex\" justify=\"center\">\n          <el-col>\n            <CardBox title=\"选择测试模板\">\n              <template slot=\"body\">\n                <div class=\"search_box\">\n                  <el-input\n                    placeholder=\"请输入模板名称\"\n                    suffix-icon=\"el-icon-search\"\n                    v-model=\"search_input.left_search\"\n                    style=\"width:219px\"\n                    size=\"small\">\n                  </el-input>\n                  <div>\n                    <el-button type=\"primary\" plain size=\"small\" style=\"background:none\" @click=\"reset_left_search\">重置</el-button>\n                    <el-button type=\"primary\" size=\"small\" @click=\"left_handle_current_change(1)\">查询</el-button>\n                  </div>\n                </div>\n                <div class=\"search_table\">\n                  <el-table :data=\"unbind_template_table_data\"\n                            border size='small'\n                            style=\"width: 100%\"\n                            v-loading=\"loading_query_rate\"\n                            element-loading-text=\"跳转中，请稍等。。。\"\n                            element-loading-spinner=\"el-icon-loading\"\n                            v-loading.fullscreen.lock=\"loading_query_rate\"\n                            element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n                            @selection-change=\"left_selected\">\n                    <el-table-column type=\"selection\" width=\"30\"></el-table-column>\n                    <el-table-column prop=\"case_template_id\" label=\"测试模板ID\" width=\"100\"></el-table-column>\n                    <el-table-column prop=\"module_name\" label=\"测试模板名称\" :show-overflow-tooltip=\"true\"></el-table-column>\n                  </el-table>\n                </div>\n                <div class=\"search_pagination\">\n                  <el-pagination\n                    @size-change=\"left_handle_size_change\"\n                    @current-change=\"left_handle_current_change\"\n                    :current-page.sync=\"left_current_page\"\n                    :page-sizes=\"[5,10,15]\"\n                    :page-size=\"left_page_size\"\n                    layout=\"sizes, prev, pager, next\"\n                    :total=\"unbind_template_total_count\">\n                  </el-pagination>\n                </div>\n              </template>\n            </CardBox>\n          </el-col>\n          <el-col :span=\"2\">\n            <div class=\"search_option\">\n              <el-button type=\"primary\" icon=\"el-icon-arrow-right\" @click=\"handle_bind\"></el-button>\n              <el-button icon=\"el-icon-arrow-left\" @click=\"handle_unbind\"></el-button>\n            </div>\n          </el-col>\n          <el-col>\n            <CardBox title=\"确认绑定\">\n              <template slot=\"body\">\n                <div class=\"search_box\">\n                  <el-input\n                    placeholder=\"请输入模板名称\"\n                    suffix-icon=\"el-icon-search\"\n                    v-model=\"search_input.right_search\"\n                    style=\"width:219px\"\n                    size=\"small\">\n                  </el-input>\n                  <div>\n                    <el-button type=\"primary\" plain size=\"small\" style=\"background:none\" @click=\"right_reset_search\">重置</el-button>\n                    <el-button type=\"primary\" size=\"small\" @click=\"right_search\">查询</el-button>\n                  </div>\n                </div>\n                <div class=\"search_table\">\n                  <div v-if=\"right_search_flag\">\n                    <el-table\n                      :data=\"search_bind_template_table_data.slice((right_current_page-1)*right_page_size, right_current_page*right_page_size)\"\n                      border size='small' style=\"width: 100%\" @selection-change=\"right_selected\">\n                      <el-table-column type=\"selection\" width=\"30\"></el-table-column>\n                      <el-table-column prop=\"case_template_id\" label=\"测试模板ID\" width=\"100\"></el-table-column>\n                      <el-table-column prop=\"module_name\" label=\"测试模板名称\" :show-overflow-tooltip=\"true\"></el-table-column>\n                    </el-table>\n                    <div class=\"search_pagination\">\n                      <el-pagination\n                        @size-change=\"right_handle_size_change\"\n                        @current-change=\"right_handle_current_change\"\n                        :current-page.sync=\"right_current_page\"\n                        :page-sizes=\"[5,10,15]\"\n                        :page-size=\"right_page_size\"\n                        layout=\"sizes, prev, pager, next\"\n                        :total=\"search_bind_template_table_data.length\">\n                      </el-pagination>\n                    </div>\n                  </div>\n                  <div v-else>\n                    <el-table\n                      :data=\"bind_template_table_data.slice((right_current_page-1)*right_page_size, right_current_page*right_page_size)\"\n                      border size='small' style=\"width: 100%\" @selection-change=\"right_selected\">\n                      <el-table-column type=\"selection\" width=\"30\"></el-table-column>\n                      <el-table-column prop=\"case_template_id\" label=\"测试模板ID\" width=\"100\"></el-table-column>\n                      <el-table-column prop=\"module_name\" label=\"测试模板名称\" :show-overflow-tooltip=\"true\"></el-table-column>\n                    </el-table>\n                    <div class=\"search_pagination\">\n                      <el-pagination\n                        @size-change=\"right_handle_size_change\"\n                        @current-change=\"right_handle_current_change\"\n                        :current-page.sync=\"right_current_page\"\n                        :page-sizes=\"[5,10,15]\"\n                        :page-size=\"right_page_size\"\n                        layout=\"sizes, prev, pager, next\"\n                        :total=\"bind_template_table_data.length\">\n                      </el-pagination>\n                    </div>\n                  </div>\n                </div>\n              </template>\n            </CardBox>\n          </el-col>\n        </el-row>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport {getCookie} from \"../../../../service/cookie\";\nimport api from \"../../../../service/api\";\n\nexport default {\n  components: {\n    CardBox: () => import('@/components/common/CardBox')\n  },\n  data () {\n    return {\n      loading_query_rate: false,\n      // 等待2秒等待费率查询完毕\n      timer: '',\n      //查询\n      search_input: {\n        left_search: '',\n        right_search: ''\n      },\n      right_search_flag: false,\n      // 未绑定模板表格\n      unbind_template_table_data: [],\n      unbind_template_total_count: 0,\n      left_page_size: 10,\n      left_current_page: 1,\n      left_total_count: 0,\n      // 已绑定模板表格\n      bind_template_table_data: [],\n      search_bind_template_table_data: [],\n      right_page_size: 10,\n      right_current_page: 1,\n      right_total_count: 0,\n      // 左边选中列表数据\n      left_select_template: [],\n      // 右边选中列表数据\n      right_select_case: [],\n      // 绑定模板信息\n      bind_template_info: [],\n      // 确保所有模板都已查询完毕\n      next_step_flag: false,\n    }\n  },\n  methods: {\n    // 查询未绑定的模板（左边列表)\n    handle_search() {\n      let data = {\n        module_name: this.search_input.left_search,\n        page: this.left_current_page,\n        pageSize: this.left_page_size,\n        user_id: getCookie('user_id')\n      };\n      api.config_manage_api.check_case_template(data).then(response => {\n        if (response.status === 0) {\n          this.unbind_template_total_count = response.total_count\n          this.unbind_template_table_data = response.info\n        } else {\n          this.$message.error('系统异常，请联系管理员！')\n        }\n      });\n    },\n    // 分页\n    right_handle_size_change(size) {\n      this.right_page_size = size\n    },\n    right_handle_current_change(val) {\n      this.right_current_page = val\n    },\n    left_handle_size_change(size) {\n      this.left_page_size = size\n      this.handle_search()\n    },\n    left_handle_current_change(val) {\n      this.left_current_page = val\n      this.handle_search()\n    },\n    // 重置左边查询\n    reset_left_search() {\n      this.search_input.left_search = ''\n      this.left_handle_current_change(1)\n    },\n    // 右边查询\n    right_search() {\n      this.search_bind_template_table_data = []\n      this.bind_template_table_data.forEach(item => {\n        if (item.module_name.indexOf(this.search_input.right_search) > -1) {\n          this.search_bind_template_table_data.push(item)\n        }\n      })\n      this.right_current_page = 1\n      this.right_search_flag = true\n    },\n    // 右边重置\n    right_reset_search() {\n      this.right_search_flag = false\n      this.search_bind_template_table_data = []\n      this.search_input.right_search = ''\n      this.right_current_page = 1\n    },\n    // 左边勾选\n    left_selected(val) {\n      this.left_select_template = val\n    },\n    // 将左边选中的内容拼接到右边表格中并刷新表格\n    handle_bind() {\n      let bind_id_list = []\n      this.bind_template_table_data.forEach(item => {\n        bind_id_list.push(item.case_template_id)\n      })\n      let tmp_list = this.left_select_template.filter(item => {\n        return bind_id_list.indexOf(item.case_template_id) < 0\n      })\n      this.bind_template_table_data = this.bind_template_table_data.concat(tmp_list).sort(function (a, b) {\n        return b.case_template_id - a.case_template_id\n      })\n      // 如果右边为查询界面\n      let search_bind_id_list = []\n      this.search_bind_template_table_data.forEach(item => {\n        search_bind_id_list.push(item.case_template_id)\n      })\n      let tmp_list2 = this.left_select_template.filter(item => {\n        return search_bind_id_list.indexOf(item.case_template_id) < 0\n      })\n      if (this.right_search_flag) {\n        this.search_bind_template_table_data = this.search_bind_template_table_data.concat(tmp_list2).sort(function (a, b) {\n          return b.template_id - a.template_id\n        })\n      }\n      // this.left_current_page = 1\n      this.right_handle_current_change(1)\n      // 查询对应模板id下的绑定的用例信息\n      let template_id_list = []\n      this.bind_template_table_data.forEach(item => {\n        template_id_list.push(item.case_template_id)\n      })\n      this.get_case_id_list(template_id_list)\n    },\n\n    // 查询对应模板id下绑定的用例信息\n    get_case_id_list(id_list) {\n      for (let i = 0, len = id_list.length; i < len; i++) {\n        let push_flag = this.bind_template_info.find(item => {\n          return item.template_id === id_list[i]\n        })\n        if (push_flag === undefined) {\n          let case_id_list = []\n          let data = {\n            case_template_id: id_list[i],\n            page: 1,\n            pageSize: 3,\n            user_id: getCookie('user_id'),\n          }\n          api.config_manage_api.get_template_bind_case(data).then(response => {\n            if (response.status === 0) {\n              response.info.bind_info.forEach(item => {\n                case_id_list.push(item.case_id)\n              })\n              this.bind_template_info.push({\n                'template_id': id_list[i],\n                'case_id_list': case_id_list\n              })\n            }\n            console.log(this.bind_template_info.length - 1, i)\n            if (this.bind_template_info.length - 1 === i) {\n              this.next_step_flag = true\n            }\n          });\n        }\n      }\n    },\n\n    // 查询用例下的费率\n    get_case_rate(offer_id) {\n      this.loading_query_rate = true\n      this.timer = setInterval(() => {\n        console.log(this.next_step_flag)\n        if (this.next_step_flag) {\n          clearInterval(this.timer)\n        }\n      }, 1000)\n      if (this.next_step_flag === true) {\n        let data = {\n          offer_id: offer_id,\n          bind_template_info: this.bind_template_info,\n          user_id: getCookie('user_id')\n        }\n        api.config_manage_api.query_case_rate(data).then(response => {\n          if (response.status === 0) {\n            let ret_info = {}\n            ret_info.rate_info = response.info\n            this.$emit('next_step', 'step_two', ret_info)\n          } else {\n            this.$message.error('系统异常，请联系管理员！')\n          }\n          this.loading_query_rate = false\n        })\n      }\n    },\n\n    // 右边勾选\n    right_selected(val) {\n      this.right_select_case = val\n    },\n    // 移除选中绑定模板并刷新右边表格\n    handle_unbind() {\n      this.remove_right_selected(this.right_select_case)\n      this.right_handle_current_change(1)\n    },\n    // 删除右边选中的数组\n    remove_right_selected(right_selected) {\n      Array.prototype.diff = function (array) {\n        return this.filter(function (i) {\n          return array.indexOf(i) < 0\n        })\n      }\n      this.bind_template_table_data = this.bind_template_table_data.diff(right_selected)\n      // 如果右边为查询的内容，同时删除查询数组中对应的元素\n      if (this.right_search_flag) {\n        this.search_bind_template_table_data = this.bind_template_table_data.diff(right_selected)\n      }\n      // 同时删除bind_template_info中对应的\n      right_selected.forEach(item => {\n        let _index = this.bind_template_info.findIndex(function (i) {\n          return i.template_id === item.case_template_id\n        })\n        this.bind_template_info.splice(_index, 1)\n      })\n    },\n\n  },\n  mounted() {\n    this.left_handle_current_change(1)\n  },\n  beforeDestroy() {\n    clearInterval(this.timer)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .search_box {\n    padding: 20px 0;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .search_option {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n\n    button {\n      width: 30px;\n      height: 30px;\n      padding: 0;\n      margin-left: 0;\n      margin-bottom: 5px;\n    }\n  }\n</style>\n<style lang=\"scss\">\n  .search_table {\n    .el-table--border th,\n    .el-table--border td {\n      border-right: none !important\n    }\n\n    .el-table .cell {\n      padding: 0 0 0 10px;\n    }\n\n    .el-table th .cell {\n      font-size: 14px;\n      color: #666666;\n    }\n\n    .el-table td .cell {\n      font-size: 13px;\n      color: #333333;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/sglt/WholeTest/panel/steqTwo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[[_c('div',{staticClass:\"steq_panel_form\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',[_c('CardBox',{attrs:{\"title\":\"选择测试模板\"}},[_c('template',{slot:\"body\"},[_c('div',{staticClass:\"search_box\"},[_c('el-input',{staticStyle:{\"width\":\"219px\"},attrs:{\"placeholder\":\"请输入模板名称\",\"suffix-icon\":\"el-icon-search\",\"size\":\"small\"},model:{value:(_vm.search_input.left_search),callback:function ($$v) {_vm.$set(_vm.search_input, \"left_search\", $$v)},expression:\"search_input.left_search\"}}),_vm._v(\" \"),_c('div',[_c('el-button',{staticStyle:{\"background\":\"none\"},attrs:{\"type\":\"primary\",\"plain\":\"\",\"size\":\"small\"},on:{\"click\":_vm.reset_left_search}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.left_handle_current_change(1)}}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"search_table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading_query_rate),expression:\"loading_query_rate\"},{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.loading_query_rate),expression:\"loading_query_rate\",modifiers:{\"fullscreen\":true,\"lock\":true}}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.unbind_template_table_data,\"border\":\"\",\"size\":\"small\",\"element-loading-text\":\"跳转中，请稍等。。。\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\"},on:{\"selection-change\":_vm.left_selected}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"30\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"case_template_id\",\"label\":\"测试模板ID\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"module_name\",\"label\":\"测试模板名称\",\"show-overflow-tooltip\":true}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"search_pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.left_current_page,\"page-sizes\":[5,10,15],\"page-size\":_vm.left_page_size,\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.unbind_template_total_count},on:{\"size-change\":_vm.left_handle_size_change,\"current-change\":_vm.left_handle_current_change,\"update:currentPage\":function($event){_vm.left_current_page=$event},\"update:current-page\":function($event){_vm.left_current_page=$event}}})],1)])],2)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"search_option\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-arrow-right\"},on:{\"click\":_vm.handle_bind}}),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-arrow-left\"},on:{\"click\":_vm.handle_unbind}})],1)]),_vm._v(\" \"),_c('el-col',[_c('CardBox',{attrs:{\"title\":\"确认绑定\"}},[_c('template',{slot:\"body\"},[_c('div',{staticClass:\"search_box\"},[_c('el-input',{staticStyle:{\"width\":\"219px\"},attrs:{\"placeholder\":\"请输入模板名称\",\"suffix-icon\":\"el-icon-search\",\"size\":\"small\"},model:{value:(_vm.search_input.right_search),callback:function ($$v) {_vm.$set(_vm.search_input, \"right_search\", $$v)},expression:\"search_input.right_search\"}}),_vm._v(\" \"),_c('div',[_c('el-button',{staticStyle:{\"background\":\"none\"},attrs:{\"type\":\"primary\",\"plain\":\"\",\"size\":\"small\"},on:{\"click\":_vm.right_reset_search}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.right_search}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"search_table\"},[(_vm.right_search_flag)?_c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.search_bind_template_table_data.slice((_vm.right_current_page-1)*_vm.right_page_size, _vm.right_current_page*_vm.right_page_size),\"border\":\"\",\"size\":\"small\"},on:{\"selection-change\":_vm.right_selected}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"30\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"case_template_id\",\"label\":\"测试模板ID\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"module_name\",\"label\":\"测试模板名称\",\"show-overflow-tooltip\":true}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search_pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.right_current_page,\"page-sizes\":[5,10,15],\"page-size\":_vm.right_page_size,\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.search_bind_template_table_data.length},on:{\"size-change\":_vm.right_handle_size_change,\"current-change\":_vm.right_handle_current_change,\"update:currentPage\":function($event){_vm.right_current_page=$event},\"update:current-page\":function($event){_vm.right_current_page=$event}}})],1)],1):_c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.bind_template_table_data.slice((_vm.right_current_page-1)*_vm.right_page_size, _vm.right_current_page*_vm.right_page_size),\"border\":\"\",\"size\":\"small\"},on:{\"selection-change\":_vm.right_selected}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"30\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"case_template_id\",\"label\":\"测试模板ID\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"module_name\",\"label\":\"测试模板名称\",\"show-overflow-tooltip\":true}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search_pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.right_current_page,\"page-sizes\":[5,10,15],\"page-size\":_vm.right_page_size,\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.bind_template_table_data.length},on:{\"size-change\":_vm.right_handle_size_change,\"current-change\":_vm.right_handle_current_change,\"update:currentPage\":function($event){_vm.right_current_page=$event},\"update:current-page\":function($event){_vm.right_current_page=$event}}})],1)],1)])])],2)],1)],1)],1)]],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d310be9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/sglt/WholeTest/panel/steqTwo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d310be9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./steqTwo.vue\")\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d310be9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./steqTwo.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./steqTwo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./steqTwo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d310be9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./steqTwo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2d310be9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/sglt/WholeTest/panel/steqTwo.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}