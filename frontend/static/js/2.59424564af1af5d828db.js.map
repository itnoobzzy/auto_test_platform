{"version":3,"sources":["webpack:///src/components/common/ShuttleBox/index.vue","webpack:///./src/components/common/ShuttleBox/index.vue?365d","webpack:///./src/components/common/ShuttleBox/index.vue"],"names":["ShuttleBox","components","CardBox","Promise","resolve","then","__webpack_require__","bind","props","template_id","type","Number","default","submit_type","String","data","id","search_input","left_search","right_search","right_search_flag","unbind_case_table_data","unbind_case_total_count","left_page_size","left_current_page","left_total_count","bind_case_table_data","search_bind_case_table_data","right_page_size","right_current_page","right_total_count","left_select_case","right_select_case","methods","handle_search","_this","this","case_template_id","case_name","page","pageSize","product_name","Object","cookie","api","config_manage_api","get_template_bind_case","response","status","info","total_count","ret_info","unbind_info","bind_info","sort","a","b","case_id","$message","error","right_handle_size_change","size","right_handle_current_change","val","left_handle_size_change","flush_left","left_handle_current_change","reset_left_search","_this2","forEach","item","indexOf","push","right_reset_search","_this3","bind_case_id_list","bind_id_list","user_id","get_template_unbind_case","left_selected","handle_bind","concat","right_selected","handle_unbind","remove_right_selected","Array","prototype","diff","array","filter","i","handle_submit","_this4","bind_list","bind_case_list","tmp_bind_list","$emit","add_bind_case_list","success","watch","handler","newValue","oldValue","immediate","common_ShuttleBox","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","justify","title","slot","staticStyle","width","placeholder","suffix-icon","model","value","callback","$$v","$set","expression","_v","background","plain","on","click","border","selection-change","prop","label","show-overflow-tooltip","current-page","page-sizes","page-size","layout","total","size-change","current-change","update:currentPage","$event","update:current-page","span","icon","slice","length","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/2.59424564af1af5d828db.js","sourcesContent":["<template>\n  <div class=\"steq_panel_form\">\n    <el-row type=\"flex\" justify=\"center\">\n      <el-col>\n        <CardBox title=\"选择测试用例\">\n          <template slot=\"body\">\n            <div class=\"search_box\">\n              <el-input\n                placeholder=\"请输入用例名称\"\n                suffix-icon=\"el-icon-search\"\n                v-model=\"search_input.left_search\"\n                style=\"width:219px\"\n                size=\"small\">\n              </el-input>\n              <div>\n                <el-button type=\"primary\" plain size=\"small\" style=\"background:none\" @click=\"reset_left_search\">重置</el-button>\n                <el-button type=\"primary\" size=\"small\" @click=\"flush_left\">查询</el-button>\n              </div>\n            </div>\n            <div class=\"search_table\">\n              <el-table :data=\"unbind_case_table_data\" border size='small' style=\"width: 100%\"\n                        @selection-change=\"left_selected\">\n                <el-table-column type=\"selection\" width=\"30\"></el-table-column>\n                <el-table-column prop=\"case_id\" label=\"测试用例ID\" width=\"100px\"></el-table-column>\n                <el-table-column prop=\"case_name\" label=\"测试用例名称\" :show-overflow-tooltip=\"true\"></el-table-column>\n              </el-table>\n            </div>\n            <div class=\"search_pagination\">\n              <el-pagination\n                @size-change=\"left_handle_size_change\"\n                @current-change=\"left_handle_current_change\"\n                :current-page.sync=\"left_current_page\"\n                :page-sizes=\"[5,10,15]\"\n                :page-size=\"left_page_size\"\n                layout=\"sizes, prev, pager, next\"\n                :total=\"unbind_case_total_count\">\n              </el-pagination>\n            </div>\n          </template>\n        </CardBox>\n      </el-col>\n      <el-col :span=\"2\">\n        <div class=\"search_option\">\n          <el-button type=\"primary\" icon=\"el-icon-arrow-right\" @click=\"handle_bind\"></el-button>\n          <el-button icon=\"el-icon-arrow-left\" @click=\"handle_unbind\"></el-button>\n        </div>\n      </el-col>\n      <el-col>\n        <CardBox title=\"确认绑定\">\n          <template slot=\"body\">\n            <div class=\"search_box\">\n              <el-input\n                placeholder=\"请输入用例名称\"\n                suffix-icon=\"el-icon-search\"\n                v-model=\"search_input.right_search\"\n                style=\"width:219px\"\n                size=\"small\">\n              </el-input>\n              <div>\n                <el-button type=\"primary\" plain size=\"small\" style=\"background:none\" @click=\"right_reset_search\">重置</el-button>\n                <el-button type=\"primary\" size=\"small\" @click=\"right_search\">查询</el-button>\n              </div>\n            </div>\n            <div class=\"search_table\">\n              <div v-if=\"right_search_flag\">\n                <el-table\n                  :data=\"search_bind_case_table_data.slice((right_current_page-1)*right_page_size, right_current_page*right_page_size)\"\n                  border size='small' style=\"width: 100%\" @selection-change=\"right_selected\">\n                  <el-table-column type=\"selection\" width=\"30\"></el-table-column>\n                  <el-table-column prop=\"case_id\" label=\"测试用例ID\" width=\"100px\"></el-table-column>\n                  <el-table-column prop=\"case_name\" label=\"测试用例名称\" :show-overflow-tooltip=\"true\"></el-table-column>\n                </el-table>\n                <div class=\"search_pagination\">\n                  <el-pagination\n                    @size-change=\"right_handle_size_change\"\n                    @current-change=\"right_handle_current_change\"\n                    :current-page.sync=\"right_current_page\"\n                    :page-sizes=\"[5,10,15]\"\n                    :page-size=\"right_page_size\"\n                    layout=\"sizes, prev, pager, next\"\n                    :total=\"search_bind_case_table_data.length\">\n                  </el-pagination>\n                </div>\n              </div>\n              <div v-else>\n                <el-table\n                  :data=\"bind_case_table_data.slice((right_current_page-1)*right_page_size, right_current_page*right_page_size)\"\n                  border size='small' style=\"width: 100%\" @selection-change=\"right_selected\">\n                  <el-table-column type=\"selection\" width=\"30\"></el-table-column>\n                  <el-table-column prop=\"case_id\" label=\"测试用例ID\" width=\"100px\"></el-table-column>\n                  <el-table-column prop=\"case_name\" label=\"测试用例名称\" :show-overflow-tooltip=\"true\"></el-table-column>\n                </el-table>\n                <div class=\"search_pagination\">\n                  <el-pagination\n                    @size-change=\"right_handle_size_change\"\n                    @current-change=\"right_handle_current_change\"\n                    :current-page.sync=\"right_current_page\"\n                    :page-sizes=\"[5,10,15]\"\n                    :page-size=\"right_page_size\"\n                    layout=\"sizes, prev, pager, next\"\n                    :total=\"bind_case_table_data.length\">\n                  </el-pagination>\n                </div>\n              </div>\n            </div>\n          </template>\n        </CardBox>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\n  import {getCookie} from \"../../../service/cookie\";\n  import api from \"../../../service/api\";\n\n  export default {\n    components: {\n      CardBox: () => import('@/components/common/CardBox')\n    },\n    props: {\n      template_id: {\n        type: Number,\n        default: 0\n      },\n      // 区分是否为全流程测试绑定模板中的修改绑定用例\n      submit_type: {\n        type: String,\n        default: ''\n      }\n    },\n    data() {\n      return {\n        id: 0,\n        //查询\n        search_input: {\n          left_search: '',\n          right_search: ''\n        },\n        right_search_flag: false,\n        // 未绑定用例表格\n        unbind_case_table_data: [],\n        unbind_case_total_count: 0,\n        left_page_size: 10,\n        left_current_page: 1,\n        left_total_count: 0,\n        // 已绑定用例表格\n        bind_case_table_data: [],\n        search_bind_case_table_data: [],\n        right_page_size: 10,\n        right_current_page: 1,\n        right_total_count: 0,\n        // 左边选中列表数据\n        left_select_case: [],\n        // 右边选中列表数据\n        right_select_case: [],\n\n      }\n    },\n    methods: {\n      // 查询未绑定的用例（左边列表）和已绑定用例（右边列表）\n      handle_search() {\n        let data = {\n          case_template_id: this.id,\n          case_name: this.search_input.left_search,\n          page: this.left_current_page,\n          pageSize: this.left_page_size,\n          product_name: getCookie('product_name'),\n        };\n        api.config_manage_api.get_template_bind_case(data).then(response => {\n          if (response.status === 0) {\n            this.unbind_case_total_count = response.info.total_count\n            this.unbind_case_table_data = response.info.ret_info.unbind_info\n            this.bind_case_table_data = response.info.ret_info.bind_info.sort(function (a, b) {\n              return b.case_id - a.case_id\n            })\n          } else {\n            this.$message.error('系统异常，请联系管理员！')\n          }\n        });\n      },\n      // 分页\n      right_handle_size_change(size) {\n        this.right_page_size = size\n      },\n      right_handle_current_change(val) {\n        this.right_current_page = val\n      },\n      left_handle_size_change(size) {\n        this.left_page_size = size\n        this.flush_left()\n      },\n      left_handle_current_change(val) {\n        this.left_current_page = val\n        this.flush_left()\n      },\n      // 重置左边查询\n      reset_left_search() {\n        this.search_input.left_search = ''\n        this.flush_left()\n      },\n      // 右边查询\n      right_search() {\n        this.search_bind_case_table_data = []\n        this.bind_case_table_data.forEach(item => {\n          if (item.case_name.indexOf(this.search_input.right_search) > -1) {\n            this.search_bind_case_table_data.push(item)\n          }\n        })\n        this.right_current_page = 1\n        this.right_search_flag = true\n      },\n      // 右边重置\n      right_reset_search() {\n        this.right_search_flag = false\n        this.search_bind_case_table_data = []\n        this.search_input.right_search = ''\n        this.right_current_page = 1\n      },\n      // 刷新左边未绑定用例\n      flush_left() {\n        let bind_case_id_list = []\n        this.bind_case_table_data.forEach(item => {\n          bind_case_id_list.push(item.case_id)\n        })\n        let data = {\n          bind_id_list: bind_case_id_list,\n          case_name: this.search_input.left_search,\n          page: this.left_current_page,\n          pageSize: this.left_page_size,\n          case_template_id: this.id,\n          user_id: getCookie('user_id'),\n          product_name: getCookie('product_name')\n        }\n        api.config_manage_api.get_template_unbind_case(data).then(response => {\n          if (response.status === 0) {\n            this.unbind_case_total_count = response.info.total_count\n            this.unbind_case_table_data = response.info.ret_info.unbind_info\n          } else {\n            this.$message.error('系统异常，请联系管理员！')\n          }\n        })\n      },\n      // 左边勾选\n      left_selected(val) {\n        this.left_select_case = val\n      },\n      // 将左边选中的内容拼接到右边表格中并刷新表格\n      handle_bind() {\n        this.bind_case_table_data = this.bind_case_table_data.concat(this.left_select_case).sort(function (a, b) {\n          return b.case_id - a.case_id\n        })\n        // 如果右边为查询界面\n        if (this.right_search_flag) {\n          this.search_bind_case_table_data = this.search_bind_case_table_data.concat(this.left_select_case).sort(function (a, b) {\n            return b.case_id - a.case_id\n          })\n        }\n        this.left_current_page = 1\n        this.flush_left()\n        this.right_handle_current_change(1)\n      },\n      // 右边勾选\n      right_selected(val) {\n        this.right_select_case = val\n      },\n      // 将右边的数组拼接到左边所有列表，并且刷新表格\n      handle_unbind() {\n        this.remove_right_selected(this.right_select_case)\n        this.flush_left()\n        this.right_handle_current_change(1)\n      },\n      // 删除右边选中的数组\n      remove_right_selected(right_selected) {\n        Array.prototype.diff = function (array) {\n          return this.filter(function (i) {\n            return array.indexOf(i) < 0\n          })\n        }\n        this.bind_case_table_data = this.bind_case_table_data.diff(right_selected)\n        // 如果右边为查询的内容，同时删除查询数组中对应的元素\n        if (this.right_search_flag) {\n          this.search_bind_case_table_data = this.bind_case_table_data.diff(right_selected)\n        }\n      },\n      // 确认\n      handle_submit() {\n        let bind_list = []\n        this.bind_case_table_data.forEach(item => {\n          bind_list.push(item.case_id)\n        })\n\n        let data = {\n          case_template_id: this.id,\n          bind_case_list: bind_list,\n        }\n        // 全流程绑定模板将对应的用例保存至临时表\n        if (this.submit_type === 'tem_bind') {\n          // 调用父组件的方法将修改后的绑定信息传递过去\n          let tmp_bind_list = []\n          this.bind_case_table_data.forEach(item => {\n            tmp_bind_list.push(item.case_id)\n          })\n          this.$emit('tmp_save', tmp_bind_list)\n        }\n        // 用例管理\n        else {\n          api.config_manage_api.add_bind_case_list(data).then(response => {\n            if (response.status === 0) {\n              this.$message.success('绑定测试用例成功！')\n            }else {\n              this.$message.error('系统异常，请联系管理员！')\n            }\n          })\n        }\n      }\n    },\n    watch: {\n      template_id: {\n        handler(newValue, oldValue) {\n          this.id = newValue\n          if (newValue !== oldValue && newValue !== 0 && this.submit_type === 'bind_case') {\n            this.handle_search()\n          }\n        },\n        immediate: true\n      },\n    },\n  }\n</script>\n<style lang=\"scss\" scoped>\n  .search_box {\n    padding: 20px 0;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .search_option {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n\n    button {\n      width: 30px;\n      height: 30px;\n      padding: 0;\n      margin-left: 0;\n      margin-bottom: 5px;\n    }\n  }\n</style>\n<style lang=\"scss\">\n  .search_table {\n    .el-table--border th,\n    .el-table--border td {\n      border-right: none !important\n    }\n\n    .el-table .cell {\n      padding: 0 0 0 10px;\n    }\n\n    .el-table th .cell {\n      font-size: 14px;\n      color: #666666;\n    }\n\n    .el-table td .cell {\n      font-size: 13px;\n      color: #333333;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/ShuttleBox/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"steq_panel_form\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',[_c('CardBox',{attrs:{\"title\":\"选择测试用例\"}},[_c('template',{slot:\"body\"},[_c('div',{staticClass:\"search_box\"},[_c('el-input',{staticStyle:{\"width\":\"219px\"},attrs:{\"placeholder\":\"请输入用例名称\",\"suffix-icon\":\"el-icon-search\",\"size\":\"small\"},model:{value:(_vm.search_input.left_search),callback:function ($$v) {_vm.$set(_vm.search_input, \"left_search\", $$v)},expression:\"search_input.left_search\"}}),_vm._v(\" \"),_c('div',[_c('el-button',{staticStyle:{\"background\":\"none\"},attrs:{\"type\":\"primary\",\"plain\":\"\",\"size\":\"small\"},on:{\"click\":_vm.reset_left_search}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.flush_left}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"search_table\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.unbind_case_table_data,\"border\":\"\",\"size\":\"small\"},on:{\"selection-change\":_vm.left_selected}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"30\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"case_id\",\"label\":\"测试用例ID\",\"width\":\"100px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"case_name\",\"label\":\"测试用例名称\",\"show-overflow-tooltip\":true}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"search_pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.left_current_page,\"page-sizes\":[5,10,15],\"page-size\":_vm.left_page_size,\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.unbind_case_total_count},on:{\"size-change\":_vm.left_handle_size_change,\"current-change\":_vm.left_handle_current_change,\"update:currentPage\":function($event){_vm.left_current_page=$event},\"update:current-page\":function($event){_vm.left_current_page=$event}}})],1)])],2)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"search_option\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-arrow-right\"},on:{\"click\":_vm.handle_bind}}),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-arrow-left\"},on:{\"click\":_vm.handle_unbind}})],1)]),_vm._v(\" \"),_c('el-col',[_c('CardBox',{attrs:{\"title\":\"确认绑定\"}},[_c('template',{slot:\"body\"},[_c('div',{staticClass:\"search_box\"},[_c('el-input',{staticStyle:{\"width\":\"219px\"},attrs:{\"placeholder\":\"请输入用例名称\",\"suffix-icon\":\"el-icon-search\",\"size\":\"small\"},model:{value:(_vm.search_input.right_search),callback:function ($$v) {_vm.$set(_vm.search_input, \"right_search\", $$v)},expression:\"search_input.right_search\"}}),_vm._v(\" \"),_c('div',[_c('el-button',{staticStyle:{\"background\":\"none\"},attrs:{\"type\":\"primary\",\"plain\":\"\",\"size\":\"small\"},on:{\"click\":_vm.right_reset_search}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.right_search}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"search_table\"},[(_vm.right_search_flag)?_c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.search_bind_case_table_data.slice((_vm.right_current_page-1)*_vm.right_page_size, _vm.right_current_page*_vm.right_page_size),\"border\":\"\",\"size\":\"small\"},on:{\"selection-change\":_vm.right_selected}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"30\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"case_id\",\"label\":\"测试用例ID\",\"width\":\"100px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"case_name\",\"label\":\"测试用例名称\",\"show-overflow-tooltip\":true}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search_pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.right_current_page,\"page-sizes\":[5,10,15],\"page-size\":_vm.right_page_size,\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.search_bind_case_table_data.length},on:{\"size-change\":_vm.right_handle_size_change,\"current-change\":_vm.right_handle_current_change,\"update:currentPage\":function($event){_vm.right_current_page=$event},\"update:current-page\":function($event){_vm.right_current_page=$event}}})],1)],1):_c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.bind_case_table_data.slice((_vm.right_current_page-1)*_vm.right_page_size, _vm.right_current_page*_vm.right_page_size),\"border\":\"\",\"size\":\"small\"},on:{\"selection-change\":_vm.right_selected}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"30\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"case_id\",\"label\":\"测试用例ID\",\"width\":\"100px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"case_name\",\"label\":\"测试用例名称\",\"show-overflow-tooltip\":true}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search_pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.right_current_page,\"page-sizes\":[5,10,15],\"page-size\":_vm.right_page_size,\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.bind_case_table_data.length},on:{\"size-change\":_vm.right_handle_size_change,\"current-change\":_vm.right_handle_current_change,\"update:currentPage\":function($event){_vm.right_current_page=$event},\"update:current-page\":function($event){_vm.right_current_page=$event}}})],1)],1)])])],2)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-803f38d0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/ShuttleBox/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-803f38d0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-803f38d0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-803f38d0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-803f38d0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/ShuttleBox/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}