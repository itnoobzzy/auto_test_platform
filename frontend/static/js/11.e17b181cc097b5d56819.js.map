{"version":3,"sources":["webpack:///src/components/paas/Unit_WholeTest/panel/steqOne.vue","webpack:///./src/components/paas/Unit_WholeTest/panel/steqOne.vue?da47","webpack:///./src/components/paas/Unit_WholeTest/panel/steqOne.vue"],"names":["steqOne","components","Dialog","__webpack_require__","e","then","bind","CardBox","Promise","resolve","data","tableData","currentPage","pageSize","total_count","pickerOptions","disabledDate","time","getTime","Date","now","shortcuts","text","onClick","picker","$emit","date","setTime","title","form","require_name","test_date","user_id","Object","cookie","rules","required","message","trigger","instance_info","methods","handleSizeChange","size","this","handle_search","handleCurrentChange","val","_this","$refs","validate","valid","page","product_name","api","whole_process_test","query_history_test","response","status","info","ret_info","$message","error","confirm_form","form_name","_this2","download_op","_this3","config_manage_api","download_operation_manual","res","window","open","catch","_","watch","$route","meta","panel_steqOne","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","model","inline","label-width","staticStyle","text-align","span","label","prop","placeholder","clearable","value","callback","$$v","$set","expression","_v","align","type","picker-options","on","click","position","border-radius","right","bottom","background","cursor","writing-mode","height","marginT","slot","width","border","current-page","page-size","page-sizes","layout","total","size-change","current-change","update:currentPage","$event","update:current-page","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.e17b181cc097b5d56819.js","sourcesContent":["<template>\n  <div>\n    <el-form\n      ref=\"form\"\n      :rules=\"rules\"\n      :model=\"form\"\n      :inline=\"true\"\n      label-width=\"150px\"\n      class=\"steq_panel_form\">\n      <el-row>\n        <el-col :span=\"24\" style=\"text-align: center\">\n          <el-form-item label=\"测试名称\" prop=\"require_name\">\n            <el-input placeholder=\"请输入测试名称\" clearable v-model=\"form.require_name\" size=\"mini\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"测试时间\">\n            <el-date-picker\n              v-model=\"form.test_date\"\n              align=\"right\"\n              type=\"date\"\n              size=\"mini\"\n              placeholder=\"选择日期\"\n              :picker-options=\"pickerOptions\">\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" size=\"mini\" @click=\"handle_search\">查询</el-button>\n          </el-form-item>\n        </el-col>\n        <div style=\"\n            position:fixed;\n            border-radius:15px;\n            right:10px;\n            bottom:50%;\n            background:rgba(204,200,255,0.6);\n            cursor: pointer;\n            writing-mode:tb-rl;\">\n          <span @click=\"download_op\">&emsp;操作手册下载&emsp;<i class=\"el-icon-thumb\"></i>&emsp; </span>\n        </div>\n      </el-row>\n      <el-row>\n        <CardBox title=\"历史测试结果\" height=\"100%\" marginT=\"20\">\n          <template slot=\"body\">\n            <div class=\"table mgt-10\">\n              <el-table\n                :data=\"tableData\"\n                border\n                ref=\"selection\"\n                style=\"width: 100%\"\n                align=\"center\">\n                <el-table-column prop=\"require_name\" label=\"测试名称\"></el-table-column>\n                <el-table-column prop=\"test_man\" label=\"测试人员\"></el-table-column>\n                <el-table-column prop=\"test_date\" label=\"测试时间\"></el-table-column>\n              </el-table>\n              <div class=\"search_pagination tr\">\n                <el-pagination\n                  @size-change=\"handleSizeChange\"\n                  @current-change=\"handleCurrentChange\"\n                  :current-page.sync=\"currentPage\"\n                  :page-size=\"pageSize\"\n                  :page-sizes=\"[5,10,15]\"\n                  layout=\"sizes, prev, pager, next\"\n                  :total=\"total_count\">\n                </el-pagination>\n              </div>\n            </div>\n          </template>\n        </CardBox>\n      </el-row>\n    </el-form>\n  </div>\n</template>\n\n<script>\n  import {getCookie} from \"../../../../service/cookie\";\n  import api from \"../../../../service/api\";\n\n  export default {\n    components: {\n      Dialog: () => import('@/components/common/Dialog'),\n      CardBox: () => import('@/components/common/CardBox'),\n\n    },\n    data() {\n      return {\n\n        // 历史测试结果\n        tableData: [],\n        currentPage: 1,\n        pageSize: 10,\n        total_count: 0,\n\n        // 时间选择\n        pickerOptions: {\n          disabledDate(time) {\n            return time.getTime() > Date.now();\n          },\n          shortcuts: [{\n            text: '今天',\n            onClick(picker) {\n              picker.$emit('pick', new Date());\n            }\n          }, {\n            text: '昨天',\n            onClick(picker) {\n              const date = new Date();\n              date.setTime(date.getTime() - 3600 * 1000 * 24);\n              picker.$emit('pick', date);\n            }\n          }, {\n            text: '一周前',\n            onClick(picker) {\n              const date = new Date();\n              date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit('pick', date);\n            }\n          }]\n        },\n\n        title: '',\n        // 输入需求表单\n        form: {\n          require_name: '',\n          test_date: '',\n          user_id: getCookie('user_id')\n        },\n        rules: {\n          require_name: [\n            {required: true, message: '请输入测试名称', trigger: 'blur'}\n          ]\n        },\n        instance_info: {\n          require_name: ''\n        }\n      }\n    },\n    methods: {\n      // 分页\n      handleSizeChange(size) {\n        this.pageSize = size\n        this.handle_search()\n      },\n      handleCurrentChange(val) {\n        this.currentPage = val\n        this.handle_search()\n      },\n      // 查询历史测试记录\n      handle_search() {\n        this.$refs['form'].validate((valid) => {\n          if (valid) {\n            let data = {\n              page: this.currentPage,\n              pageSize: this.pageSize,\n              require_name: this.form.require_name,\n              test_date: this.form.test_date,\n              product_name: getCookie('product_name')\n            }\n            api.whole_process_test.query_history_test(data).then(response => {\n              if (response.status === 0) {\n                this.tableData = response.info.ret_info\n                this.total_count = response.info.total_count\n              } else {\n                this.$message.error('系统异常，请联系管理员！')\n              }\n            })\n          }\n        })\n      },\n      // 校验表单\n      confirm_form(form_name) {\n        this.$refs[form_name].validate((valid) => {\n          if (valid) {\n            let ret_info = {}\n            this.instance_info.require_name = this.form.require_name\n            ret_info.instance_info = this.instance_info\n            this.$emit('next_step', 'step_one', ret_info)\n          }\n        })\n      },\n      // 操作手册下载\n      download_op() {\n        api.config_manage_api.download_operation_manual().then(res => {\n          window.open(res)\n        }).catch(_ => {\n          this.$message.error('文档不存在，或有其他错误，请联系管理员处理！！！')\n        })\n      },\n    },\n    watch: {\n      $route() {\n        this.title = this.$route.meta.title\n      }\n    },\n  }\n</script>\n<style lang=\"scss\" scoped>\n  .info {\n    width: 100%;\n    border-collapse: collapse;\n    margin-top: 2px;\n  }\n\n  .info th {\n    font-size: 15px;\n    background-color: #E1FFFF;\n    text-align: center;\n    padding-left: 10px;\n    font-weight: bold;\n    border: 1px solid #ddd;\n    width: 150px;\n  }\n\n  .info tr {\n    line-height: 25px;\n  }\n\n  .info td {\n    background-color: #E1FFFF;\n    text-align: center;\n    border: 1px solid #ddd;\n    padding-left: 10px;\n    width: 210px;\n  }\n\n  .line_three {\n    padding: 18px 10px;\n\n    .info {\n      font-size: 14px;\n      display: flex;\n      align-items: center;\n\n      p {\n        margin-right: 40px;\n      }\n    }\n\n    .info_line {\n      margin-top: 8px;\n      text-align: center;\n\n      &_item {\n        border: 1px solid #e5ecf2;\n        border-bottom: none;\n        padding: 10px 0;\n      }\n    }\n  }\n\n  .feecontents {\n    text-align: center;\n    position: absolute;\n    width: 122%;\n    left: -150px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/paas/Unit_WholeTest/panel/steqOne.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"form\",staticClass:\"steq_panel_form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"inline\":true,\"label-width\":\"150px\"}},[_c('el-row',[_c('el-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"测试名称\",\"prop\":\"require_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入测试名称\",\"clearable\":\"\",\"size\":\"mini\"},model:{value:(_vm.form.require_name),callback:function ($$v) {_vm.$set(_vm.form, \"require_name\", $$v)},expression:\"form.require_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"测试时间\"}},[_c('el-date-picker',{attrs:{\"align\":\"right\",\"type\":\"date\",\"size\":\"mini\",\"placeholder\":\"选择日期\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.form.test_date),callback:function ($$v) {_vm.$set(_vm.form, \"test_date\", $$v)},expression:\"form.test_date\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.handle_search}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"fixed\",\"border-radius\":\"15px\",\"right\":\"10px\",\"bottom\":\"50%\",\"background\":\"rgba(204,200,255,0.6)\",\"cursor\":\"pointer\",\"writing-mode\":\"tb-rl\"}},[_c('span',{on:{\"click\":_vm.download_op}},[_vm._v(\" 操作手册下载 \"),_c('i',{staticClass:\"el-icon-thumb\"}),_vm._v(\"  \")])])],1),_vm._v(\" \"),_c('el-row',[_c('CardBox',{attrs:{\"title\":\"历史测试结果\",\"height\":\"100%\",\"marginT\":\"20\"}},[_c('template',{slot:\"body\"},[_c('div',{staticClass:\"table mgt-10\"},[_c('el-table',{ref:\"selection\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"align\":\"center\"}},[_c('el-table-column',{attrs:{\"prop\":\"require_name\",\"label\":\"测试名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"test_man\",\"label\":\"测试人员\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"test_date\",\"label\":\"测试时间\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search_pagination tr\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"page-sizes\":[5,10,15],\"layout\":\"sizes, prev, pager, next\",\"total\":_vm.total_count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1)],1)])],2)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bc6d14aa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/paas/Unit_WholeTest/panel/steqOne.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bc6d14aa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./steqOne.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./steqOne.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./steqOne.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bc6d14aa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./steqOne.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bc6d14aa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/paas/Unit_WholeTest/panel/steqOne.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}